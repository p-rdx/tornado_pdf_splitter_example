# tornado pdf splitter example

# Подготовка и запуск
## Без использования Docker:
Я использовал Python 2.7. 
Для настройки окружения надо сделать следующее:
 - Установить ImageMagick по инструкциям с официального сайта (http://docs.wand-py.org/en/0.4.4/guide/install.html) *используется для обработки PDF файлов*
 - Установить прочие библиотеки
```sh
> pip install -r requirements.txt
```
 - Инициализировать базу данных
```sh
> python database.py
```
 - Запустить приложение (по умолчанию настроен порт 8888, другой можно указать через опцию --port)
```sh
> python main.py [--port=(номер порта)]
```
## Используя Docker
 - Собрать образ, используя Dockerfile *(пример команды в случае если находишься в директории с приложением)*
```sh
> docker build .
```
 - Запустить образ в контейнере (важно пробросить порт 8888, так как его по умолчанию слушает приложение)
```sh
> docker run -p 8888:8888 [прочие опции] (ид созданного ранее образа)
```
# Использование
 - Зайти в браузере на http://localhost:8000
 -- Вас переместит на страницу логина (/login)
 -- Изначально база данных инициализирует одного пользователя demo:demo
 -- Дополнительных пользователей можно завести на странице регистрации (/register)
 - После логина или регистрации вас перенаправит на основную страницу, где есть форма для загрузки файлов.
 -- ограничение загружаемых файлов сделано через <input accept=".pdf" ...>, на бэкэнде нет никаких проверок на тип файла и/или корректность расширения. Чтобы сделать, можно проверять наличие "PDF-<номер версии>" в начале файла например
 - загруженные и обработанные файлы отобразятся на странице
 -- чтобы увидеть список страниц PDF файла надо нажать на кнопку ">>" рядом с его именем
 -- для выгрузки страницы в png или самого файла надо кликнуть на название.